<mt:setvarblock name="page_title">Performance Profile: <mt:var name="template_name"></mt:setvarblock>

<mt:setvarblock name="html_head" append="1">
    <script type="text/javascript" src="<$mt:StaticWebPath$>jquery/jquery.js"></script>
    <script type="text/javascript" src="<$mt:StaticWebPath$>plugins/Profiler/jquery.tablesorter.min.js"></script>
    <script type="text/javascript">
    jQuery(document).ready(function($) {
        $("#tags-listing-table").tablesorter();
        $("#tags-listing-table").bind("sortEnd",function() {
          var count = 0;
          $("#tags-listing-table tr").each( function() {
            if (count++ % 2 == 0) {
              $(this).removeClass('odd').addClass('even');
            } else {
              $(this).removeClass('even').addClass('odd');
            }
          });
        });
    });
    </script>
    <style type="text/css">
        #tags-listing-table { width: 675px }
        #tags-listing-table .date { white-space: nowrap; }
        #main-content { padding-top: 5px; }
        .content-nav #main-content .msg { margin-left: 0px; }
        .listing-header { padding: 5px 0 10px 10px; }
        .listing h2 { color: #999; border-bottom: 1px solid #999; margin-bottom: 20px }
        th.header {
          background-image: url(<$mt:StaticWebPath$>plugins/Profiler/bg.gif);
          cursor: pointer;
          font-weight: bold;
          background-repeat: no-repeat;
          background-position: center right;
          border-right: 1px solid #dad9c7;
          margin-left: -1px;
        }
        th.headerSortUp {
          background-image: url(<$mt:StaticWebPath$>plugins/Profiler/asc.gif);
        }
        th.headerSortDown {
          background-image: url(<$mt:StaticWebPath$>plugins/Profiler/desc.gif);
        }
        .flyout {
            left: auto;
            right: auto;
            top: 205px;
            width: 175px;
            display: block;
            margin: 0 0 0 675px;
            padding: 5px 20px;
        }
        .flyout h2 {
            margin-top: 0px;
            border-bottom: 1px solid #333;
            color: #333;
            margin-bottom: 10px;
        }
        .flyout li {
            padding-bottom: 5px;
            color: #333;
        }
        .flyout p {
            margin: 3px 0 15px;
        }
    </style>
</mt:setvarblock>

<$mt:include name="include/header.tmpl"$>
<mt:if name="rows">
<mt:setvarblock name="listing_header">
    <div class="table-key flyout">
        <h2>
            Bad tag! Good tag!
        </h2>
        <p>
            This report summarizes the publishing performance for all tags
            processed found publishing for each template tag found during in the
            template and its includes (i.e. modules, widgets, etc)
        </p>
        <h2>
            Key
        </h2>
        <ul>
            <li>
                <strong>Time</strong><br />
                The total time spent processing all calls to the tag.
            </li>

            <li>
                <strong>Calls</strong><br />
                The number of times the tag was encountered and processed.
            </li>
            <li>
                <strong>Avg.</strong><br />
                The average time it took to process each tag.
            </li>
            <li>
                <strong>Queries</strong><br />
                The number of database queries each tag generated.
            </li>
            <li>
                <strong>Hits and Misses</strong><br />
                The number of times the tag output could or could not be
                pulled from the in-memory cache without additional requiring
                additional compilation and processing.
            </li>
        </ul>
        <p>
            If you have questions, problems or feature requests, please go to
            <a href="http://help.endevver.com">help.endevver.com</a> and let
            us know!
        </p>
    </div>
</mt:setvarblock>
<mtapp:listing loop="rows" type="tags" default="<__trans phrase="It appears the template you are profiling is empty.">" empty_message="<__trans phrase="It appears the template you are profiling is empty.">" hide_pager="1" class="show_all">
    <mt:if name="__first__">
    <thead>
        <tr>
            <th id="l-tag"><__trans phrase="Tag"></th>
            <th id="l-time"><__trans phrase="Time"></th>
            <th id="l-call"><__trans phrase="Calls"></th>
            <th id="l-avg"><__trans phrase="Avg."></th>
            <th id="l-quer"><__trans phrase="Queries"></th>
            <th id="l-hits"><__trans phrase="Hits"></th>
            <th id="l-miss"><__trans phrase="Miss"></th>
        </tr>
    </thead>
    <tbody>
    </mt:if>
        <tr class="<mt:if name="__odd__">odd<mt:else>even</mt:if>">
            <td><mt:var name="tag" escape="html"></td>
            <td><mt:var name="time" escape="html"></td>
            <td><mt:var name="calls" escape="html"></td>
            <td><mt:var name="avg" escape="html"></td>
            <td><mt:var name="queries" escape="html"></td>
            <td><mt:var name="hits" escape="html"></td>
            <td><mt:var name="misses" escape="html"></td>
        </tr>
    <mt:if name="__last__">
    </tbody>
    </mt:if>
</mtapp:listing>
</mt:if>

<$mt:include name="include/footer.tmpl"$>